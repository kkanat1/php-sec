# PHP App ② レビュー

## XSS(クロスサイトスクリプティング)

### XSSとはどんな攻撃か、また攻撃者にどんなメリットがあるか説明してください。
* 動的Webページの脆弱性、または、脆弱性を利用した攻撃方法の事です。悪意のあるユーザがwebアプリケーションの入力formやURLにスクリプトを挿入し、それを他のユーザが読み込むことでデータを取得できます。攻撃者はwebサイトのサーバから情報を取得できるというメリットがあります。
### `htmlspecialchars()`を`e()`として定義しなおすメリットを説明してください。
* `htmlspecialchars()`と毎回記述するとコードが長くなるため、e()で省略し、可読性を上げることができる。
### `htmlspecialchars()`を使うことでなぜXSSが防げるのか説明してください。
* ユーザからの入力データを安全に表示するためにエスケープ処理を行うためです。悪意のあるスクリプトが埋め込まれていた場合は、返還対象となる文字を変換するため、スクリプトとして実行されることはありません。また、引数はString型です。
## CSRF(クロスサイトリクエストフォージェリ)

### CSRFとはどんな攻撃か、また攻撃者にどんなメリットがあるか説明してください。
* 悪意の攻撃者が、認証済みのユーザに対し意図していないリクエストを送信させる攻撃手法です。ユーザの情報がクッキーに保存された状態で、悪意のあるリンクやwebサイトを踏むように仕向けます。そのリンクをクリックすると対象のサイトに遷移して、クッキーの情報を基にして、操作を行います。　攻撃者は権限を悪用して、銀行の送金や引き出しなどの操作を行うことができ、被害者が操作を行っているため、攻撃者の追跡と特定が困難になります。
### SessionとCookieの違いを説明してください。
* Sessionはサーバー側に保存されている情報で、Cookieはブラウザ側に保存されている情報です。
### `setToken()`が何をしているか説明してください。
* Sessionのtokenキーにランダムな16進数のトークンバリューを保存しています。
### `checkToken()`が何をしているか説明してください。
* 引数で受け取った$tokenとSessioが保持しているtokenが同じものであるか、そもそもtokenが空（""、0, null, falseなど）でないか確認し、tokenが空、又はSessionのtokenと一致しない場合は、Sessionのerrにエラー文を代入し、リダイレクトを行います。
### トークンを使うことでなぜCSRFが防げるのか説明してください。
* 他のサイトからリクエストが送られてくる場合は、tokenを持っていない、またはtokenの値が異なっているため、他のサイトからのリクエストを排除することができるためです。
## SQLインジェクション

### SQLインジェクションとはどんな攻撃か、また攻撃者にどんなメリットがあるか説明してください。
* 攻撃者がSQL文を入力することによってデータベースから不正に情報を抜き出す攻撃です。攻撃者はデータベースの中にある情報の取得、改ざん、削除などを行うことができます。
### `->prepare()`の返り値と、またこのメソッドが何をしているか説明してください。
* `->prepare()`の返り値は、PDOStatementですが、データベースサーバーに対して有効なSQL文でなければfalseを返すかPDOExceptionを返します。このメソッドは、sql文が有効なものであるか確認し、それをString型に変換しています。
### `->bindValue()`が何をしているか説明してください。
* 
### 今回の対策でなぜSQLインジェクションが防げるのか説明してください。
* 
## バリデーション

### バリデーションの目的について説明してください。
* 
### `validate()`が何をしているか説明してください。
* 
### `isset($post['content'])`はなぜ必要か、無い場合どうなるか説明してください。
* 
## その他

### `unsetError()`を実行しないとどうなるか説明してください。
* 